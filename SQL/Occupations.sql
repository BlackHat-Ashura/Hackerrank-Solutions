SET @D=0,@P=0,@S=0,@A=0;
SELECT MIN(DOCTOR),MIN(PROFESSOR),MIN(SINGER),MIN(ACTOR)
FROM (SELECT CASE
          WHEN OCCUPATION='DOCTOR' THEN @D:=@D+1
          WHEN OCCUPATION='PROFESSOR' THEN @P:=@P+1
          WHEN OCCUPATION='SINGER' THEN @S:=@S+1
          WHEN OCCUPATION='ACTOR' THEN @A:=@A+1
          END AS ROWNUMBER,
      CASE WHEN OCCUPATION='DOCTOR' THEN NAME END AS DOCTOR,
      CASE WHEN OCCUPATION='PROFESSOR' THEN NAME END AS PROFESSOR,
      CASE WHEN OCCUPATION='SINGER' THEN NAME END AS SINGER,
      CASE WHEN OCCUPATION='ACTOR' THEN NAME END AS ACTOR
      FROM OCCUPATIONS
      ORDER BY NAME
) AS TEMPTABLE
GROUP BY ROWNUMBER;
